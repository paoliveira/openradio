/**
 * Constants defined in the build scripts.
 */
project.ext {

    /**
     * Build and compile constants
     */
    compileSdkVersion = 29
    minSdkVersion = 17
    targetSdkVersion = 29
    buildToolsVersion = "29.0.3"

    /**
     * Libraries versions
     */
    supportVersion = "28.0.0"
    checkerQualVersion = "2.10.1"
    checkerCompatQualVersion = "2.5.5"
    appcompatVersion = "1.1.0"
    materialVersion = "1.1.0"
    glideVersion = "4.3.1"
    googlePlayServicesDriveVersion = "17.0.0"
    googlePlayServicesAuthVersion = "18.0.0"
    googlePlayServicesLocationVersion = "17.0.0"
    constraintLayoutVersion = "1.1.3"
    log4jVersion = "1.2.17"
    junitVersion = "4.12"
    espressoVersion = "3.1.0"
    // https://mvnrepository.com/artifact/org.json/json
    jsonTestVersion = "20171018"
    exoPlayerVersion = "2.11.4"

    /**
     * Application constants
     */
    applicationId = "com.yuriy.openradio"
    versionName = "5.2"

    /**
     * Fabric
     */
    apiKey = ""
    crashlyticsVersion = "2.10.1"

    /**
     * Sign
     */
    storeFileProp = ""
    aliasProp = ""
    pwdProp = ""

    /**
     * Load constants from files
     */

    def signConfFile = file("sign.properties")
    if (signConfFile.canRead()) {
        Properties signProps = new Properties()
        signProps.load(new FileInputStream(signConfFile))
        project.ext.storeFileProp = signProps['file'].toString()
        project.ext.aliasProp = signProps['alias'].toString()
        project.ext.pwdProp = signProps['pwd'].toString()
    } else {
        throw new GradleException("Could not read sign.properties !")
    }

    final def crashlyticsApiKeyFile = file('crashlytics.properties')
    if (crashlyticsApiKeyFile.canRead()) {
        final Properties properties = new Properties()
        properties.load(new FileInputStream(crashlyticsApiKeyFile))
        def apiKey = properties['apiKey'].toString()
        println "Crashlytics API key " + apiKey

        project.ext.apiKey = apiKey
    } else {
        throw new GradleException("Could not read crashlytics.properties !")
    }

}
